webpackJsonp([4,7],{146:function(t,e,n){"use strict";var r=n(730);n.n(r);n.o(r,"LoginStatus")&&n.d(e,"LoginStatus",function(){return r.LoginStatus}),n.o(r,"UserStatus")&&n.d(e,"UserStatus",function(){return r.UserStatus});var o=n(731);n.d(e,"LoginStatus",function(){return o.a});var i=n(733);n.n(i);n.o(i,"UserStatus")&&n.d(e,"UserStatus",function(){return i.UserStatus});var a=n(732);n.d(e,"UserStatus",function(){return a.a})},194:function(t,e,n){"use strict";var r=n(734);n.d(e,"b",function(){return r.a});var o=n(735);n.d(e,"c",function(){return o.a});var i=n(487);n.d(e,"a",function(){return i.a});var a=n(736);n.d(e,"d",function(){return a.a})},41:function(t,e,n){"use strict";var r=n(737);n.d(e,"a",function(){return r.a});var o=n(738);n.d(e,"c",function(){return o.a});var i=n(739);n.d(e,"b",function(){return i.a})},487:function(t,e,n){"use strict";var r=n(146),o=n(0),i=n(213),a=n(61),c=n(2);n.n(c);n.d(e,"a",function(){return f});var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e){this.store=t,this.router=e}return t.prototype.canActivate=function(t,e){var n=this;return this.store.select(function(t){return t.authState}).map(function(t){return!!n.authenticated(t.status)||(n.redirectToLogin(e.url),!1)}).catch(function(t){return n.redirectToLogin(e.url),c.Observable.of(!1)})},t.prototype.redirectToLogin=function(t){this.router.navigate(["login"],{queryParams:{redirect_url:t}})},t.prototype.authenticated=function(t){return t===r.LoginStatus.loggedIn},t=u([n.i(o.Injectable)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.b&&a.b)&&e||Object,"function"==typeof(f="undefined"!=typeof i.b&&i.b)&&f||Object])],t);var e,f}()},488:function(t,e,n){"use strict";var r=n(196);n.d(e,"a",function(){return o});var o={production:!0,firebaseConfig:{apiKey:"AIzaSyB-fwfpjppYf9IkjddQsAKJcjGmn-yHsdY",authDomain:"angular2-ngrx-firebase-auth.firebaseapp.com",databaseURL:"https://angular2-ngrx-firebase-auth.firebaseio.com",storageBucket:"angular2-ngrx-firebase-auth.appspot.com",messagingSenderId:"427093340635"},firebaseAuthConfig:{provider:r.c.Password,method:r.d.Password}}},542:function(t,e,n){function r(t){var e=o[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var o={"./features/auth/auth.module":[964,0],"./features/home/home.module":[965,1],"./features/utils/utils.module":[966,2]};r.keys=function(){return Object.keys(o)},t.exports=r,r.id=542},543:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(684),o=n(0),i=n(488),a=n(725);i.a.production&&n.i(o.enableProdMode)(),n.i(r.a)().bootstrapModule(a.a)},724:function(t,e,n){"use strict";var r=n(146),o=n(41),i=n(0),a=n(213),c=n(61);n.d(e,"a",function(){return f});var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n){this.store=t,this.authActions=e,this.router=n,this.loggedIn=!1}return t.prototype.ngOnInit=function(){var t=this;this.store.select(function(t){return t.authState}).subscribe(function(e){t.loggedIn=e.status===r.LoginStatus.loggedIn})},t.prototype.logout=function(){this.store.dispatch(this.authActions.logOutUser()),this.router.navigate(["login"])},t=u([n.i(i.Component)({selector:"app-root",template:n(916),styles:[n(914)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof c.b&&c.b)&&e||Object,"function"==typeof(f="undefined"!=typeof o.a&&o.a)&&f||Object,"function"==typeof(p="undefined"!=typeof a.b&&a.b)&&p||Object])],t);var e,f,p}()},725:function(t,e,n){"use strict";var r=n(911),o=(n.n(r),n(488)),i=n(724),a=n(726),c=n(727),u=n(194),s=n(744),f=n(0),p=n(546),l=n(40),d=n(214),g=n(325),E=n(47),y=n(61),S=n(196);n.d(e,"a",function(){return R});var h=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},b=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},R=function(){function t(){}return t=h([n.i(f.NgModule)({declarations:[i.a,c.a,c.b],imports:[E.a,l.FormsModule,d.a,S.a.initializeApp(o.a.firebaseConfig,o.a.firebaseAuthConfig),g.a.forRoot(),p.FlexLayoutModule,s.a,a.a],providers:[u.a,y.a,u.b,u.c,u.d],bootstrap:[i.a]}),b("design:paramtypes",[])],t)}()},726:function(t,e,n){"use strict";var r=n(487),o=n(0),i=n(213);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=[{path:"",redirectTo:"/users",pathMatch:"full"},{path:"",canActivate:[r.a],loadChildren:"./features/home/home.module#HomeModule"},{path:"",loadChildren:"./features/auth/auth.module#AuthModule"},{path:"",loadChildren:"./features/utils/utils.module#UtilsModule"},{path:"**",redirectTo:"/page-not-found",pathMatch:"full"}],s=function(){function t(){}return t=a([n.i(o.NgModule)({imports:[i.a.forRoot(u,{useHash:!0})],exports:[i.a]}),c("design:paramtypes",[])],t)}()},727:function(t,e,n){"use strict";var r=n(728);n.d(e,"a",function(){return r.a});var o=n(729);n.d(e,"b",function(){return o.a})},728:function(t,e,n){"use strict";var r=n(0),o=n(325),i=n(61);n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e){this.store=t,this.snackbar=e}return t.prototype.ngOnInit=function(){var t=this;this.store.select(function(t){return t.notifyState}).subscribe(function(e){t.showMessage(e.message)})},t.prototype.showMessage=function(t){t&&this.snackbar.open(t,"close",{duration:3e3})},t=a([n.i(r.Component)({selector:"app-notify",template:""}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object,"function"==typeof(u="undefined"!=typeof o.b&&o.b)&&u||Object])],t);var e,u}()},729:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.logoutEvent=new r.EventEmitter}return t.prototype.logout=function(){this.logoutEvent.next()},o([n.i(r.Input)(),i("design:type",Boolean)],t.prototype,"loggedIn",void 0),o([n.i(r.Output)(),i("design:type","function"==typeof(e="undefined"!=typeof r.EventEmitter&&r.EventEmitter)&&e||Object)],t.prototype,"logoutEvent",void 0),t=o([n.i(r.Component)({selector:"app-toolbar",template:n(917),styles:[n(915)]}),i("design:paramtypes",[])],t);var e}()},730:function(t,e){},731:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r;!function(t){t[t.loggingIn=0]="loggingIn",t[t.loggedIn=1]="loggedIn",t[t.loggingOut=2]="loggingOut",t[t.loggedOut=3]="loggedOut",t[t.unknown=4]="unknown",t[t.registering=5]="registering",t[t.registerFailed=6]="registerFailed",t[t.loginFailed=7]="loginFailed"}(r||(r={}))},732:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r;!function(t){t[t.getUsersInProgress=0]="getUsersInProgress",t[t.getUsersFailure=1]="getUsersFailure",t[t.getUsersSuccess=2]="getUsersSuccess",t[t.updateInProgress=3]="updateInProgress",t[t.updateFailure=4]="updateFailure",t[t.updateSuccess=5]="updateSuccess",t[t.idle=6]="idle"}(r||(r={}))},733:function(t,e){},734:function(t,e,n){"use strict";var r=n(531),o=(n.n(r),n(41)),i=n(0),a=n(61),c=n(196),u=n(2);n.n(u);n.d(e,"a",function(){return p});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n){var r=this;this.angularFire=t,this.authActions=e,this.store=n,this.uid=null,this.angularFire.auth.subscribe(function(t){t?(r.uid=t.uid,r.store.dispatch(r.authActions.userAuthenticated(t))):(r.uid=null,r.store.dispatch(r.authActions.userNotAuthenticated()))})}return t.prototype.login=function(t){return u.Observable.fromPromise(this.angularFire.auth.login(t))},t.prototype.resetPassword=function(t){return u.Observable.fromPromise(firebase.auth().sendPasswordResetEmail(t))},t.prototype.logout=function(){this.angularFire.auth.logout()},t.prototype.register=function(t){return u.Observable.fromPromise(this.angularFire.auth.createUser(t))},t=s([n.i(i.Injectable)(),f("design:paramtypes",["function"==typeof(e="undefined"!=typeof c.b&&c.b)&&e||Object,"function"==typeof(r="undefined"!=typeof o.a&&o.a)&&r||Object,"function"==typeof(p="undefined"!=typeof a.b&&a.b)&&p||Object])],t);var e,r,p}()},735:function(t,e,n){"use strict";var r=n(41),o=n(0);n.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return t.prototype.getMessageForAction=function(t,e){switch(t){case r.a.LOGIN_FAILURE:return e?e:"Failed to login";case r.a.REGISTER_FAILURE:return e?e:"Failed to register";case r.a.REGISTER_SUCCESS:return e?e:"Success! You registered"}},t=i([n.i(o.Injectable)(),a("design:paramtypes",[])],t)}()},736:function(t,e,n){"use strict";var r=n(0),o=n(196),i=n(141);n.n(i);n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){this.angularFire=t,this.rootRef=i.database().ref()}return t.prototype.getUsers=function(){return this.angularFire.database.list("/userReadable")},t.prototype.initialiseUser=function(t){var e=this.rootRef.child("/userWriteable").push().key;t.registeredDate=(new Date).toISOString();var n={};return n["userReadable/"+e]=t,n["userWriteable/"+e]=t,this.angularFire.database.object("/").update(n)},t=a([n.i(r.Injectable)(),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.b&&o.b)&&e||Object])],t);var e}()},737:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.loginUser=function(e){return{type:t.LOGIN_RECEIVED,payload:e}},t.prototype.loginFailure=function(e){return{type:t.LOGIN_FAILURE,payload:e}},t.prototype.loginSuccess=function(){return{type:t.LOGIN_SUCCESS}},t.prototype.registerUser=function(e){return{type:t.REGISTER_RECEIVED,payload:e}},t.prototype.registerSuccess=function(){return{type:t.REGISTER_SUCCESS}},t.prototype.registerFailure=function(e){return{type:t.REGISTER_FAILURE,payload:e}},t.prototype.logOutUser=function(){return{type:t.LOGOUT_RECEIVED}},t.prototype.logoutSuccess=function(){return{type:t.LOGOUT_SUCCESS}},t.prototype.userAuthenticated=function(e){return{type:t.USER_AUTHENTICATED,payload:e}},t.prototype.userNotAuthenticated=function(){return{type:t.USER_NOT_AUTHENTICATED}},t.LOGIN_RECEIVED="LOGIN_RECEIVED",t.LOGIN_FAILURE="LOGIN_FAILURE",t.LOGIN_SUCCESS="LOGIN_SUCCESS",t.REGISTER_RECEIVED="REGISTER_RECEIVED",t.REGISTER_SUCCESS="REGISTER_SUCCESS",t.REGISTER_FAILURE="REGISTER_FAILURE",t.LOGOUT_RECEIVED="LOGOUT_RECEIVED",t.LOGOUT_SUCCESS="LOGOUT_SUCCESS",t.USER_AUTHENTICATED="USER_AUTHENTICATED",t.USER_NOT_AUTHENTICATED="USER_NOT_AUTHENTICATED",t=o([n.i(r.Injectable)(),i("design:paramtypes",[])],t)}()},738:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.SHOW_MESSAGE="SHOW_MESSAGE",t.REMOVE_MESSAGE="REMOVE_MESSAGE",t=o([n.i(r.Injectable)(),i("design:paramtypes",[])],t)}()},739:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.initialiseUser=function(e){return{type:t.INITIALISE_USER_RECEIVED,payload:{data:e}}},t.prototype.initialiseUserFailure=function(e){return{type:t.INITIALISE_USER_FAILURE,payload:e}},t.prototype.initialiseUserSuccess=function(){return{type:t.INITIALISE_USER_SUCCESS}},t.prototype.getUsers=function(){return{type:t.GET_USERS_RECEIVED}},t.prototype.getUsersFailure=function(e){return{type:t.GET_USERS_FAILURE,payload:e}},t.prototype.getUsersSuccess=function(e){return{type:t.GET_USERS_SUCCESS,payload:e}},t.prototype.setUserStatusIdle=function(){return{type:t.SET_STATUS_IDLE}},t.INITIALISE_USER_RECEIVED="INITIALISE_USER_RECEIVED",t.INITIALISE_USER_FAILURE="INITIALISE_USER_FAILURE",t.INITIALISE_USER_SUCCESS="INITIALISE_USER_SUCCESS",t.GET_USERS_RECEIVED="GET_USERS_RECEIVED",t.GET_USERS_FAILURE="GET_USERS_FAILURE",t.GET_USERS_SUCCESS="GET_USERS_SUCCESS",t.SET_STATUS_IDLE="SET_STATUS_IDLE",t=o([n.i(r.Injectable)(),i("design:paramtypes",[])],t)}()},740:function(t,e,n){"use strict";var r=n(206),o=(n.n(r),n(207)),i=(n.n(o),n(31)),a=(n.n(i),n(208)),c=(n.n(a),n(194)),u=n(41),s=n(0),f=n(193),p=n(2);n.n(p);n.d(e,"a",function(){return g});var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t,e,n){var r=this;this.actions$=t,this.authActions=e,this.authService=n,this.login$=this.actions$.ofType(u.a.LOGIN_RECEIVED).map(f.b).switchMap(function(t){return r.authService.login(t).switchMap(function(){return p.Observable.of(r.authActions.loginSuccess())}).catch(function(t){return p.Observable.of(r.authActions.loginFailure(t.message))})}),this.logOut$=this.actions$.ofType(u.a.LOGOUT_RECEIVED).map(function(){return r.authService.logout()}).map(function(){return r.authActions.logoutSuccess()}),this.registerUser$=this.actions$.ofType(u.a.REGISTER_RECEIVED).map(f.b).switchMap(function(t){return r.authService.register(t).switchMap(function(){return p.Observable.of(r.authActions.registerSuccess())}).catch(function(t){return p.Observable.of(r.authActions.registerFailure(t.message))})})}return l([n.i(f.c)(),d("design:type",Object)],t.prototype,"login$",void 0),l([n.i(f.c)(),d("design:type",Object)],t.prototype,"logOut$",void 0),l([n.i(f.c)(),d("design:type",Object)],t.prototype,"registerUser$",void 0),t=l([n.i(s.Injectable)(),d("design:paramtypes",["function"==typeof(e="undefined"!=typeof f.d&&f.d)&&e||Object,"function"==typeof(r="undefined"!=typeof u.a&&u.a)&&r||Object,"function"==typeof(o="undefined"!=typeof c.b&&c.b)&&o||Object])],t);var e,r,o}()},741:function(t,e,n){"use strict";var r=n(740);n.d(e,"a",function(){return r.a});var o=n(742);n.d(e,"b",function(){return o.a});var i=n(743);n.d(e,"c",function(){return i.a})},742:function(t,e,n){"use strict";var r=n(206),o=(n.n(r),n(207)),i=(n.n(o),n(31)),a=(n.n(i),n(208)),c=(n.n(a),n(194)),u=n(41),s=n(0),f=n(193),p=n(2);n.n(p);n.d(e,"a",function(){return g});var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t,e,n){var r=this;this.actions$=t,this.notifyActions=e,this.notifyService=n,this.showMessage$=this.actions$.ofType(u.a.LOGIN_FAILURE,u.a.REGISTER_FAILURE,u.a.REGISTER_SUCCESS).switchMap(function(t){return p.Observable.of({type:u.c.SHOW_MESSAGE,payload:r.notifyService.getMessageForAction(t.type,t.payload)})}),this.removeMessage$=this.actions$.ofType(u.c.SHOW_MESSAGE).switchMap(function(){return p.Observable.of({type:u.c.REMOVE_MESSAGE})})}return l([n.i(f.c)(),d("design:type",Object)],t.prototype,"showMessage$",void 0),l([n.i(f.c)(),d("design:type",Object)],t.prototype,"removeMessage$",void 0),t=l([n.i(s.Injectable)(),d("design:paramtypes",["function"==typeof(e="undefined"!=typeof f.d&&f.d)&&e||Object,"function"==typeof(r="undefined"!=typeof u.c&&u.c)&&r||Object,"function"==typeof(o="undefined"!=typeof c.c&&c.c)&&o||Object])],t);var e,r,o}()},743:function(t,e,n){"use strict";var r=n(531),o=(n.n(r),n(206)),i=(n.n(o),n(207)),a=(n.n(i),n(31)),c=(n.n(a),n(208)),u=(n.n(c),n(194)),s=n(41),f=n(0),p=n(193),l=n(2);n.n(l);n.d(e,"a",function(){return E});var d=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},g=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},E=function(){function t(t,e,n,r){var o=this;this.actions$=t,this.userActions=e,this.authService=n,this.userService=r,this.getUsers$=this.actions$.ofType(s.b.GET_USERS_RECEIVED).switchMap(function(){return o.authService.angularFire.auth.switchMap(function(t){return t?o.userService.getUsers().switchMap(function(t){return l.Observable.of(o.userActions.getUsersSuccess(t))}).catch(function(t){return l.Observable.of(o.userActions.getUsersFailure(t.message))}):l.Observable.of({type:s.b.GET_USERS_FAILURE,payload:"You must be logged in"})}).catch(function(t){return l.Observable.of({type:s.b.GET_USERS_FAILURE,payload:"You must be logged in"})})}),this.initialiseUser$=this.actions$.ofType(s.b.INITIALISE_USER_RECEIVED).map(p.b).switchMap(function(t){return l.Observable.fromPromise(o.userService.initialiseUser(t.data)).switchMap(function(){return l.Observable.of({type:s.b.INITIALISE_USER_SUCCESS})}).catch(function(t){return l.Observable.of({type:s.b.INITIALISE_USER_FAILURE})})}),this.setUserStateToIdle$=this.actions$.ofType(s.b.INITIALISE_USER_SUCCESS,s.b.INITIALISE_USER_FAILURE,s.b.GET_USERS_FAILURE,s.b.GET_USERS_SUCCESS).switchMap(function(){return l.Observable.of({type:s.b.SET_STATUS_IDLE})})}return d([n.i(p.c)(),g("design:type",Object)],t.prototype,"getUsers$",void 0),d([n.i(p.c)(),g("design:type",Object)],t.prototype,"initialiseUser$",void 0),d([n.i(p.c)(),g("design:type",Object)],t.prototype,"setUserStateToIdle$",void 0),t=d([n.i(f.Injectable)(),g("design:paramtypes",["function"==typeof(e="undefined"!=typeof p.d&&p.d)&&e||Object,"function"==typeof(r="undefined"!=typeof s.b&&s.b)&&r||Object,"function"==typeof(o="undefined"!=typeof u.b&&u.b)&&o||Object,"function"==typeof(i="undefined"!=typeof u.d&&u.d)&&i||Object])],t);var e,r,o,i}()},744:function(t,e,n){"use strict";function r(t,e){return S(t,e)}var o=n(41),i=n(741),a=n(745),c=n(746),u=n(747),s=n(0),f=n(714),p=(n.n(f),n(193)),l=n(61),d=n(912);n.n(d);n.d(e,"a",function(){return h});var g=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},E=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=[o.a,o.c,o.b],S=n.i(f.compose)(n.i(d.localStorageSync)(["authState"]),l.c)({authState:a.a,notifyState:c.a,userState:u.a}),h=function(){function t(){}return t=g([n.i(s.NgModule)({imports:[l.a.provideStore(r),p.a.run(i.a),p.a.run(i.b),p.a.run(i.c)],declarations:[],exports:[],providers:y.slice()}),E("design:paramtypes",[])],t)}()},745:function(t,e,n){"use strict";var r=n(146),o=n(41),i={status:r.LoginStatus.unknown,authState:null,newlyRegistered:!1};e.a=function(t,e){switch(void 0===t&&(t=i),e.type){case o.a.LOGIN_RECEIVED:return Object.assign({},t,{status:r.LoginStatus.loggingIn});case o.a.LOGIN_FAILURE:return Object.assign({},t,{status:r.LoginStatus.loginFailed});case o.a.USER_AUTHENTICATED:return Object.assign({},t,{status:r.LoginStatus.loggedIn,authState:e.payload});case o.a.USER_NOT_AUTHENTICATED:return Object.assign({},t,{status:r.LoginStatus.loggedOut,authState:null});case o.a.LOGOUT_RECEIVED:return Object.assign({},t,{status:r.LoginStatus.loggingOut});case o.a.REGISTER_RECEIVED:return Object.assign({},t,{status:r.LoginStatus.registering});case o.a.REGISTER_FAILURE:return Object.assign({},t,{status:r.LoginStatus.registerFailed});default:return Object.assign({},t)}}},746:function(t,e,n){"use strict";var r=n(41),o={message:null};e.a=function(t,e){switch(void 0===t&&(t=o),e.type){case r.c.SHOW_MESSAGE:return Object.assign({},t,{message:e.payload});case r.c.REMOVE_MESSAGE:return Object.assign({},t,{message:null});default:return Object.assign({},t)}}},747:function(t,e,n){"use strict";var r=n(146),o=n(41),i={users:null,status:r.UserStatus.idle};e.a=function(t,e){switch(void 0===t&&(t=i),e.type){case o.b.GET_USERS_RECEIVED:return Object.assign({},t,{status:r.UserStatus.getUsersInProgress});case o.b.GET_USERS_SUCCESS:return Object.assign({},t,{status:r.UserStatus.getUsersSuccess,users:e.payload});case o.b.GET_USERS_FAILURE:return Object.assign({},t,{status:r.UserStatus.getUsersFailure});case o.b.INITIALISE_USER_RECEIVED:return Object.assign({},t,{status:r.UserStatus.updateInProgress});case o.b.INITIALISE_USER_SUCCESS:return Object.assign({},t,{status:r.UserStatus.updateSuccess});case o.b.INITIALISE_USER_FAILURE:return Object.assign({},t,{status:r.UserStatus.updateFailure});case o.b.SET_STATUS_IDLE:return Object.assign({},t,{status:r.UserStatus.idle});default:return Object.assign({},t)}}},914:function(t,e){t.exports=".main{padding:16px}"},915:function(t,e){t.exports=".app-toolbar-filler{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}"},916:function(t,e){t.exports='<div fxLayout="row" fxLayoutAlign="start stretch" class="full-page">\n    <div fxFlex fxLayout="column" fxLayoutAlign="start stretch">\n        <app-toolbar [loggedIn]="loggedIn" (logoutEvent)="logout()"></app-toolbar>\n        <div class="main" fxFlex>\n            <router-outlet></router-outlet>\n        </div>\n        <app-notify></app-notify>\n    </div>\n</div>'},917:function(t,e){t.exports='<md-toolbar color="primary">\n  Auth Sample\n  <span class="app-toolbar-filler"></span>\n  <button *ngIf="loggedIn" md-icon-button (click)="logout()" mdTooltip="logout">\n      <md-icon>exit_to_app</md-icon>\n  </button>\n</md-toolbar>'},961:function(t,e,n){t.exports=n(543)}},[961]);